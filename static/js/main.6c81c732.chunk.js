(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],[,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={currentUserId:"maxime@kraaft.co",users:[{id:"maxime2@kraaft.co",username:"Maxime"},{id:"maxime@kraaft.co",username:"Maxime Blanchard"},{id:"cedric@kraaft.co",username:"Cedric Boidin"}],messages:[{id:"JOyCwtqoK",type:"text",senderId:"maxime@kraaft.co",createdAt:1618056833265,content:"Did you know @Cedric Boidin that the University of Iowa's locker room is painted pink? I wonder why?"},{id:"yTFQY-vpSu",type:"text",senderId:"cedric@kraaft.co",createdAt:1618056839996,content:"I think I did hear something about that. I imagine it is an attempt to psych the other team out."},{id:"yTFQY-vpSy",type:"text",senderId:"cedric@kraaft.co",createdAt:1618056839997,content:"I think"},{id:"6ZzP46ndf4",type:"image",senderId:"maxime@kraaft.co",createdAt:1618056869148,url:"https://i.imgur.com/s7WucBN.png",caption:"So, it would be in the visiting team's locker room but not their own?"},{id:"Gee3s5UVi2",type:"image",senderId:"cedric@kraaft.co",createdAt:1618056882696,url:"https://i.imgur.com/WRgTbTg.png",caption:"Right @Maxime. Teams do all kinds of things to bother the competition. I've heard of teams having heated benches in the winter for themselves but not for the visitors."},{id:"6Fyn5NwJeA",type:"text",senderId:"maxime@kraaft.co",createdAt:1618056893845,content:"I would hate a cold bench. Then again, I wouldn't want to be some place that cold or watching football."},{id:"sPJVnJGjHX",type:"image",senderId:"maxime@kraaft.co",createdAt:1618056917999,url:"https://i.imgur.com/9OAvz8R.png",caption:"I'd rather watch it inside where it's warm. @Cedric Boidin Have you heard about the Georgia Tech-Cumberland game of 1916?"},{id:"IHf9wxvqUV",type:"text",senderId:"cedric@kraaft.co",createdAt:1618056927368,content:"No, what happened in that game?"},{id:"8ZDFgmLsYW",type:"image",senderId:"maxime@kraaft.co",createdAt:1618056949966,url:"https://i.imgur.com/wVLumym.jpg",caption:"Georgia Tech defeated Cumberland but here's the thing, they defeated them by a score of 222-0!"},{id:"_IaJIIhFyN",type:"image",senderId:"cedric@kraaft.co",createdAt:1618056972544,url:"https://i.imgur.com/RHqQW9F.png",caption:"That is insane. How could that even happen?"},{id:"5HMCClTDka",type:"text",senderId:"maxime@kraaft.co",createdAt:1618057001918,content:"I don't know but it did.  It's the highest scoring game in history."}]}},function(e,t,n){e.exports={root:"Conversation_root__1WU0t",messages:"Conversation_messages__30bAd",message:"Conversation_message__3eC1Z",standalone:"Conversation_standalone__jcD1e",mine:"Conversation_mine__1VMQ8",bot:"Conversation_bot__3MUsF",typing:"Conversation_typing__17R8-",file:"Conversation_file__16skm"}},,function(e,t,n){e.exports={root:"MessageRenderer_root__1cDsm",name:"MessageRenderer_name__1W2wQ",date:"MessageRenderer_date__36vaB",open:"MessageRenderer_open__12Pba"}},function(e,t,n){e.exports={root:"RoundContent_root__3jMK7",topleft:"RoundContent_topleft__1gn5p",topright:"RoundContent_topright__-Xuc-",botleft:"RoundContent_botleft__1WVyZ",botright:"RoundContent_botright__3QzAY"}},,function(e,t,n){e.exports={root:"MessageContent_root__26CH8",mine:"MessageContent_mine__1CUIH",notmine:"MessageContent_notmine__3dy8H",tag:"MessageContent_tag__3qsIo"}},,function(e,t,n){e.exports={root:"ImageMessageRenderer_root___RPJq",image:"ImageMessageRenderer_image__1h0Bl",text:"ImageMessageRenderer_text__1kl0e"}},,,,,function(e,t,n){e.exports={root:"Header_root__2xzr1"}},function(e,t,n){e.exports={content:"Layout_content__2ZQnQ"}},function(e,t,n){"use strict";(function(e){var a=n(13),r=n.n(a),o=n(22),c=n(19),s=n(5),i=n(1),d=n(2),u=n.n(d),m=n(3),l=n(21),h=n(4),g=n.n(h),f=n(0);t.a=function(t){var n=t.messages,a=t.onChange,d=Object(i.useState)(""),h=Object(s.a)(d,2),p=h[0],b=h[1],j=Object(i.useState)(null),_=Object(s.a)(j,2),x=_[0],v=_[1],O=Object(i.useCallback)(function(){var t=Object(c.a)(r.a.mark((function t(c){var s,i,d,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),0!==p.trim().length){t.next=3;break}return t.abrupt("return");case 3:if(i=(new Date).getTime(),d="message-".concat(n.length),null==x){t.next=14;break}return t.t0=e,t.next=9,x.arrayBuffer();case 9:t.t1=t.sent,u=t.t0.from.call(t.t0,t.t1),s={type:"image",caption:p,createdAt:i,id:d,senderId:m.a.currentUserId,url:"data:image/jpeg;base64,".concat(u.toString("base64"))},t.next=15;break;case 14:s={type:"text",content:p,createdAt:i,id:d,senderId:m.a.currentUserId};case 15:b(""),v(null),a([].concat(Object(o.a)(n),[s]));case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[n,a,p,x]);return Object(f.jsxs)("div",{className:g.a.root,children:[Object(f.jsx)("div",{className:g.a.messages,children:n.map((function(e,t,n){var a=0===t||n[t-1].senderId!==e.senderId,r=t===n.length-1||n[t+1].senderId!==e.senderId,o=0===t||t===n.length-1||n[t+1].createdAt-e.createdAt>12e4,c=m.a.currentUserId===e.senderId;return Object(f.jsx)("div",{className:u()(g.a.message,c&&g.a.mine,r&&g.a.bot,o&&g.a.standalone),children:Object(f.jsx)(l.a,{message:e,showName:a,showDate:o,mine:c,top:a,bot:r})},e.id)}))}),Object(f.jsxs)("form",{className:g.a.typing,onSubmit:O,children:[Object(f.jsx)("input",{value:p,onChange:function(e){return b(e.currentTarget.value)},placeholder:"Write a message..."}),Object(f.jsxs)("label",{htmlFor:"upload",children:[Object(f.jsx)("span",{className:g.a.file,children:"File"}),Object(f.jsx)("input",{style:{display:"none"},id:"upload",type:"file",onChange:function(e){var t,n;return v((null===e||void 0===e||null===(t=e.currentTarget)||void 0===t||null===(n=t.files)||void 0===n?void 0:n[0])||null)}})]}),Object(f.jsx)("button",{type:"submit",children:"Send"})]})]})}}).call(this,n(30).Buffer)},,function(e,t,n){e.exports={root:"TextMessageRenderer_root__2BfoL"}},function(e,t,n){"use strict";var a=n(5),r=n(1),o=n(2),c=n.n(o),s=n(3),i=function(e){return e.toString().padStart(2,"0")},d=n(6),u=n.n(d),m=n(14),l=n(9),h=n.n(l),g=n(7),f=n.n(g),p=n(0);var b=function(e){var t=e.children,n=e.className,a=e.topleft,r=e.topright,o=e.bottomleft,s=e.bottomright;return Object(p.jsx)("div",{className:c()(f.a.root,a&&f.a.topleft,r&&f.a.topright,o&&f.a.botleft,s&&f.a.botright,n),children:t})};var j=function(e){var t=e.content,n=e.mine,a=e.className,o=e.rounded,i=Object(r.useMemo)((function(){return function(e){var t=s.a.users.map((function(t){for(var n=[],a=0;-1!==a;)-1!==(a=e.indexOf(t.username,a))&&(n.push(a),a+=1);return{user:t,occurences:n}})).filter((function(e){return e.occurences.length>0})),n=(t=t.filter((function(t){return t.occurences=t.occurences.filter((function(t){return 0!==t&&"@"===e[t-1]})),t.occurences.length>0})).flat()).map((function(e){return e.occurences.map((function(t){return{occurence:t,user:e.user}}))})).flat().sort((function(e,t){return e.occurence-t.occurence})),a=0,r=[];return n.forEach((function(t){var n=e.slice(a,t.occurence-1);r.push(n),r.push(Object(p.jsxs)("span",{className:h.a.tag,children:["@",t.user.username]})),a=t.occurence+t.user.username.length})),r.push(e.slice(a,e.length)),r}(t)}),[t]);return Object(p.jsx)(b,Object(m.a)(Object(m.a)({},o),{},{className:c()(h.a.root,n?h.a.mine:h.a.notmine,a),children:i}))},_=n(20),x=n.n(_);var v=function(e){var t=e.message.content,n=e.mine,a=e.top,r=e.bot;return Object(p.jsx)("div",{className:c()(x.a.root),children:Object(p.jsx)(j,{content:t,mine:n,rounded:{topleft:n||!n&&a,topright:n&&a||!n,bottomleft:n||!n&&r,bottomright:n&&r||!n}})})},O=n(11),I=n.n(O);var y=function(e){var t=e.message,n=t.caption,a=t.url,r=e.mine,o=e.top;return Object(p.jsxs)("div",{className:I.a.root,children:[Object(p.jsx)(b,{topleft:r||!r&&o,topright:r&&o||!r,children:Object(p.jsx)("img",{className:I.a.image,src:a,alt:"message"})}),Object(p.jsx)(j,{content:n,mine:r,className:I.a.text,rounded:{bottomleft:!0,bottomright:!0}})]})};function C(e,t,n,a){return"text"===e.type?Object(p.jsx)(v,{message:e,mine:t,top:n,bot:a}):"image"===e.type?Object(p.jsx)(y,{message:e,mine:t,top:n,bot:a}):void 0}t.a=function(e){var t,n,o=e.showDate,d=e.showName,m=e.message,l=e.top,h=e.bot,g=e.mine,f=Object(r.useState)(!1),b=Object(a.a)(f,2),j=b[0],_=b[1];return Object(p.jsxs)("button",{type:"button",onClick:function(){return _(!j)},className:u.a.root,children:[Object(p.jsx)("div",{className:c()(u.a.name,(d||j)&&u.a.open),children:null===(t=s.a.users.find((function(e){return e.id===m.senderId})))||void 0===t?void 0:t.username}),Object(p.jsx)("div",{children:C(m,g,l,h)}),Object(p.jsx)("div",{className:c()(u.a.date,(o||j)&&u.a.open),children:(n=new Date(m.createdAt),"".concat(i(n.getDate()),"/").concat(i(n.getMonth()),"/").concat(i(n.getFullYear())," - ").concat(i(n.getHours()),":").concat(i(n.getMinutes())))})]})}},,,,,,function(e,t,n){},function(e,t,n){},,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(15),c=n.n(o),s=(n(27),n(5)),i=(n(28),n(3)),d=n(16),u=n.n(d),m=n(0);var l=function(){return Object(m.jsx)("header",{className:u.a.root,children:"Kraaft"})},h=n(17),g=n.n(h);var f=function(e){var t=e.children;return Object(m.jsxs)("div",{children:[Object(m.jsx)(l,{}),Object(m.jsx)("section",{className:g.a.content,children:t})]})},p=n(18),b=function(){var e=i.a.messages,t=Object(a.useState)(e),n=Object(s.a)(t,2),r=n[0],o=n[1],c=Object(a.useMemo)((function(){return r.sort((function(e,t){return e.createdAt-t.createdAt}))}),[r]);return Object(m.jsx)(f,{children:Object(m.jsx)(p.a,{messages:c,onChange:o})})},j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),o(e),c(e)}))};c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(b,{})}),document.getElementById("root")),j()}],[[36,1,2]]]);
//# sourceMappingURL=main.6c81c732.chunk.js.map