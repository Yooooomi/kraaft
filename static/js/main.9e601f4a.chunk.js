(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],[,function(e,t,n){e.exports={root:"Message_root__1IC9S",text:"Message_text__3kDDq",textmine:"Message_textmine__abpWK",textnotmine:"Message_textnotmine__O6dDu",image:"Message_image__2gXtS",tag:"Message_tag__2noPt",name:"Message_name__SKwgx",date:"Message_date__2AR7O",open:"Message_open__3jxt0",class:"Message_class__VnhMR",mine:"Message_mine__2-iFy",notmine:"Message_notmine__27_wY",bot:"Message_bot__1EwWb"}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={currentUserId:"maxime@kraaft.co",users:[{id:"maxime2@kraaft.co",username:"Maxime"},{id:"maxime@kraaft.co",username:"Maxime Blanchard"},{id:"cedric@kraaft.co",username:"Cedric Boidin"}],messages:[{id:"JOyCwtqoK",type:"text",senderId:"maxime@kraaft.co",createdAt:1618056833265,content:"Did you know @Cedric Boidin that the University of Iowa's locker room is painted pink? I wonder why?"},{id:"yTFQY-vpSu",type:"text",senderId:"cedric@kraaft.co",createdAt:1618056839996,content:"I think I did hear something about that. I imagine it is an attempt to psych the other team out."},{id:"6ZzP46ndf4",type:"image",senderId:"maxime@kraaft.co",createdAt:1618056869148,url:"https://i.imgur.com/s7WucBN.png",caption:"So, it would be in the visiting team's locker room but not their own?"},{id:"Gee3s5UVi2",type:"image",senderId:"cedric@kraaft.co",createdAt:1618056882696,url:"https://i.imgur.com/WRgTbTg.png",caption:"Right @Maxime. Teams do all kinds of things to bother the competition. I've heard of teams having heated benches in the winter for themselves but not for the visitors."},{id:"6Fyn5NwJeA",type:"text",senderId:"maxime@kraaft.co",createdAt:1618056893845,content:"I would hate a cold bench. Then again, I wouldn't want to be some place that cold or watching football."},{id:"sPJVnJGjHX",type:"image",senderId:"maxime@kraaft.co",createdAt:1618056917999,url:"https://i.imgur.com/9OAvz8R.png",caption:"I'd rather watch it inside where it's warm. @Cedric Boidin Have you heard about the Georgia Tech-Cumberland game of 1916?"},{id:"IHf9wxvqUV",type:"text",senderId:"cedric@kraaft.co",createdAt:1618056927368,content:"No, what happened in that game?"},{id:"8ZDFgmLsYW",type:"image",senderId:"maxime@kraaft.co",createdAt:1618056949966,url:"https://i.imgur.com/wVLumym.jpg",caption:"Georgia Tech defeated Cumberland but here's the thing, they defeated them by a score of 222-0!"},{id:"_IaJIIhFyN",type:"image",senderId:"cedric@kraaft.co",createdAt:1618056972544,url:"https://i.imgur.com/RHqQW9F.png",caption:"That is insane. How could that even happen?"},{id:"5HMCClTDka",type:"text",senderId:"maxime@kraaft.co",createdAt:1618057001918,content:"I don't know but it did.  It's the highest scoring game in history."}]}},function(e,t,n){e.exports={root:"Conversation_root__1WU0t",messages:"Conversation_messages__30bAd",message:"Conversation_message__3eC1Z",standalone:"Conversation_standalone__jcD1e",mine:"Conversation_mine__1VMQ8",bot:"Conversation_bot__3MUsF",typing:"Conversation_typing__17R8-",file:"Conversation_file__16skm"}},,,,,,function(e,t,n){e.exports={root:"Layout_root__ananT",content:"Layout_content__2ZQnQ"}},,,function(e,t,n){e.exports={root:"Header_root__2xzr1"}},function(e,t,n){"use strict";(function(e){var a=n(11),r=n.n(a),s=n(16),c=n(15),i=n(5),o=n(2),u=n(6),d=n.n(u),m=n(3),l=n(17),g=n(4),h=n.n(g),f=n(0);t.a=function(t){var n=t.messages,a=t.onChange,u=Object(o.useState)(""),g=Object(i.a)(u,2),p=g[0],b=g[1],j=Object(o.useState)(null),_=Object(i.a)(j,2),x=_[0],v=_[1],O=Object(o.useCallback)(function(){var t=Object(c.a)(r.a.mark((function t(c){var i,o,u,d;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),0!==p.trim().length){t.next=3;break}return t.abrupt("return");case 3:if(o=(new Date).getTime(),u="message-".concat(n.length),null==x){t.next=14;break}return t.t0=e,t.next=9,x.arrayBuffer();case 9:t.t1=t.sent,d=t.t0.from.call(t.t0,t.t1),i={type:"image",caption:p,createdAt:o,id:u,senderId:m.a.currentUserId,url:"data:image/jpeg;base64,".concat(d.toString("base64"))},t.next=15;break;case 14:i={type:"text",content:p,createdAt:o,id:u,senderId:m.a.currentUserId};case 15:b(""),v(null),a([].concat(Object(s.a)(n),[i]));case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[n,a,p,x]);return Object(o.useEffect)((function(){window.scrollTo(0,window.document.body.scrollHeight)}),[n]),Object(f.jsxs)("div",{className:h.a.root,children:[Object(f.jsx)("div",{className:h.a.messages,children:n.map((function(e,t,n){var a=0===t||n[t-1].senderId!==e.senderId,r=t===n.length-1||n[t+1].senderId!==e.senderId,s=0===t||t===n.length-1||e.createdAt-n[t+1].createdAt>12e4,c=m.a.currentUserId===e.senderId;return Object(f.jsx)("div",{className:d()(h.a.message,c?h.a.mine:h.a.notmine,r&&h.a.bot),children:Object(f.jsx)(l.a,{message:e,standalone:s,mine:c,top:a,bot:r})},e.id)}))}),Object(f.jsxs)("form",{className:h.a.typing,onSubmit:O,children:[Object(f.jsx)("input",{value:p,onChange:function(e){return b(e.currentTarget.value)},placeholder:"Write a message..."}),Object(f.jsxs)("label",{htmlFor:"upload",children:[Object(f.jsx)("span",{className:h.a.file,children:"File"}),Object(f.jsx)("input",{style:{display:"none"},id:"upload",type:"file",onChange:function(e){var t,n;return v((null===e||void 0===e||null===(t=e.currentTarget)||void 0===t||null===(n=t.files)||void 0===n?void 0:n[0])||null)}})]}),Object(f.jsx)("button",{type:"submit",children:"Send"})]})]})}}).call(this,n(25).Buffer)},,,function(e,t,n){"use strict";var a=n(5),r=n(2),s=n(6),c=n.n(s),i=n(3),o=function(e){return e.toString().padStart(2,"0")},u=n(1),d=n.n(u),m=n(0),l=function(e){var t=i.a.users.map((function(t){for(var n=[],a=0;-1!==a;)-1!==(a=e.indexOf(t.username,a))&&(n.push(a),a+=1);return{user:t,occurences:n}})).filter((function(e){return e.occurences.length>0})),n=(t=t.filter((function(t){return t.occurences=t.occurences.filter((function(t){return 0!==t&&"@"===e[t-1]})),t.occurences.length>0})).flat()).map((function(e){return e.occurences.map((function(t){return{occurence:t,user:e.user}}))})).flat().sort((function(e,t){return e.occurence-t.occurence})),a=0,r=[];return n.forEach((function(t){var n=e.slice(a,t.occurence-1);r.push(n),r.push(Object(m.jsxs)("span",{className:d.a.tag,children:["@",t.user.username]})),a=t.occurence+t.user.username.length})),r.push(e.slice(a,e.length)),r},g={text:function(e){var t=e.mine,n=e.message.content;return Object(m.jsx)("div",{className:c()(d.a.text,t?d.a.textmine:d.a.textnotmine),children:l(n)})},image:function(e){var t=e.mine,n=e.message,a=n.caption,r=n.url;return Object(m.jsxs)("div",{className:d.a.image,children:[Object(m.jsx)("img",{src:r,alt:"message"}),Object(m.jsx)("span",{className:t?d.a.textmine:d.a.textnotmine,children:l(a)})]})}};t.a=function(e){var t,n,s=e.standalone,u=e.message,l=e.top,h=e.bot,f=e.mine,p=g[u.type],b=Object(r.useState)(!1),j=Object(a.a)(b,2),_=j[0],x=j[1];return Object(m.jsxs)("button",{type:"button",onClick:function(){return x(!_)},className:d.a.root,children:[Object(m.jsx)("div",{className:c()(d.a.name,(l||_)&&d.a.open),children:null===(t=i.a.users.find((function(e){return e.id===u.senderId})))||void 0===t?void 0:t.username}),Object(m.jsx)("div",{className:c()(d.a.class,f?d.a.mine:d.a.notmine,l&&d.a.top,h&&d.a.bot),children:Object(m.jsx)(p,{message:u,mine:f})}),Object(m.jsx)("div",{className:c()(d.a.date,(s||_)&&d.a.open),children:(n=new Date(u.createdAt),"".concat(o(n.getDate()),"/").concat(o(n.getMonth()),"/").concat(o(n.getFullYear())," - ").concat(o(n.getHours()),":").concat(o(n.getMinutes())))})]})}},,,,,function(e,t,n){},function(e,t,n){},,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),s=n(12),c=n.n(s),i=(n(22),n(5)),o=(n(23),n(3)),u=n(13),d=n.n(u),m=n(0);var l=function(){return Object(m.jsx)("header",{className:d.a.root,children:"Kraaft"})},g=n(10),h=n.n(g);var f=function(e){var t=e.children;return Object(m.jsxs)("div",{className:h.a.root,children:[Object(m.jsx)(l,{}),Object(m.jsx)("section",{className:h.a.content,children:t})]})},p=n(14),b=function(){var e=o.a.messages,t=Object(a.useState)(e),n=Object(i.a)(t,2),r=n[0],s=n[1],c=Object(a.useMemo)((function(){return r.sort((function(e,t){return e.createdAt-t.createdAt}))}),[r]);return Object(m.jsx)(f,{children:Object(m.jsx)(p.a,{messages:c,onChange:s})})},j=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(b,{})}),document.getElementById("root")),j()}],[[31,1,2]]]);
//# sourceMappingURL=main.9e601f4a.chunk.js.map